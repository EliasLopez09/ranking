<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Torneo de Tekken 8 | Resultados y Participantes</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Variables y Estilos Base */
        :root {
            --color-bg-dark: #121212;
            --color-bg-medium: #1f1f1f;
            --color-bg-light: #2c2c2c;
            --color-primary: #ff5500; /* Naranja fuerte */
            --color-text-light: #ffffff;
            --color-text-muted: #aaaaaa;
            --color-border: #333333;
            --color-gold: gold;
            --color-silver: silver;
            --color-whatsapp: #25D366; /* Verde WhatsApp */
            --color-single-prize: #1f1f1f; /* Color unificado para premios */
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden; /* Prevent horizontal scrolling */
            font-family: 'Roboto', sans-serif;
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            min-height: 100vh;
            display: flex;
            box-sizing: border-box;
        }

        * {
            box-sizing: border-box; /* Ensure padding and borders are included in element width */
        }

        .sidebar { display: none; } /* Ocultar barra lateral */

        .main-content {
            flex-grow: 1;
            padding: 0;
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        /* Encabezado Principal */
        .header-main {
            background-color: var(--color-bg-medium);
            padding: 15px 20px;
            border-bottom: 3px solid var(--color-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .header-main h1 {
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            font-size: clamp(20px, 4vw, 28px);
            color: var(--color-text-light);
            letter-spacing: 1px;
        }

        .tournament-container {
            padding: 20px 10px;
            max-width: 100%; /* Ensure container doesn't exceed viewport */
            width: 100%;
            margin: 0 auto;
        }

        /* TikTok Embed */
        .tiktok-embed-container {
            width: 100%;
            overflow: hidden;
            text-align: center;
            margin-top: 20px;
        }

        .tiktok-embed {
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 auto;
        }

        .tiktok-embed iframe {
            width: 100% !important;
            max-width: 100% !important;
            height: auto;
            min-height: 600px; /* Adjust based on content */
        }

        /* LOGO Organizador */
        .organizer {
            text-align: right;
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--color-text-muted);
        }
        .organizer strong {
            color: var(--color-primary);
            font-size: 16px;
        }

        /* Bloque de Premios */
        .prizes-highlight {
            background-color: var(--color-single-prize);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            text-align: center;
            border: 5px solid var(--color-primary);
            width: 100%;
        }
        .prizes-highlight h2 {
            grid-column: span 2;
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            font-size: 18px;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 10px;
            text-align: center;
        }

        .prize-item {
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--color-border);
        }

        .prize-item.first-place strong { color: var(--color-gold); }
        .prize-item.second-place strong { color: var(--color-silver); }
        
        .prize-item strong {
            display: block;
            font-size: clamp(16px, 3vw, 22px);
            font-family: 'Orbitron', sans-serif;
        }
        
        .prize-item span {
            font-size: 12px;
            color: var(--color-text-muted);
        }

        /* Sección de Inscripción y Contacto */
        .registration-info {
            background-color: var(--color-bg-medium);
            border-left: 5px solid var(--color-primary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            width: 100%;
        }
        
        .registration-info h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--color-primary);
            margin-top: 0;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .registration-details {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .registration-details > div {
            flex-basis: 45%;
            min-width: 250px;
        }

        .contact-info p, .payment-methods p {
            margin: 5px 0;
            font-size: 14px;
        }

        .payment-methods strong {
            color: var(--color-gold);
        }

        /* Botón WhatsApp */
        .whatsapp-button {
            display: inline-block;
            background-color: var(--color-whatsapp);
            color: white;
            padding: 10px 20px;
            margin-top: 15px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.2s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
        }

        .whatsapp-button:hover {
            background-color: #1DA851;
        }

        /* Contador y Estado de Inscripciones */
        .status-box {
            background-color: var(--color-bg-light);
            border-left: 5px solid var(--color-primary);
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: clamp(14px, 3vw, 18px);
            font-weight: bold;
            text-align: center;
            color: var(--color-text-light);
            width: 100%;
        }

        .status-box strong {
            color: var(--color-primary);
        }

        .completed-box {
            background-color: #004d00;
            border-left: 5px solid #0f0;
            color: #fff;
            display: none;
        }

        .completed-box strong {
            color: #0f0;
        }

        /* Contenedores de 2 Columnas */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            width: 100%;
        }

        .list-section, .media-section {
            background-color: var(--color-bg-medium);
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            width: 100%;
        }
        
        .list-section h3, .media-section h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
            color: var(--color-primary);
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .participant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 5px;
            border-bottom: 1px solid var(--color-border);
            width: 100%;
        }
        
        .participant-details strong {
            display: block;
            font-size: 16px;
            color: var(--color-text-light);
        }

        /* Estilos para el Mapa */
        .map-container {
            border: 2px solid var(--color-primary);
            border-radius: 6px;
            overflow: hidden;
            height: 300px;
            margin-top: 20px;
            width: 100%;
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .image-container img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 0 0 10px rgba(255, 85, 0, 0.5);
            display: block;
            margin: 0 auto;
        }

        /* Media Queries (Responsividad) */
        @media (min-width: 768px) {
            .content-grid {
                grid-template-columns: 2fr 1fr;
            }
            .prizes-highlight {
                padding: 20px;
            }
        }
        
        @media (max-width: 600px) {
            .prizes-highlight {
                grid-template-columns: 1fr;
            }
            .registration-details > div {
                flex-basis: 100%;
                min-width: unset;
            }
            .tiktok-embed-container {
                padding: 0;
            }
            .tiktok-embed iframe {
                min-height: 500px; /* Adjust for mobile */
            }
            .tournament-container {
                padding: 20px 5px;
            }
        }
    </style>
</head>
<body>
    <div class="main-content">
        <div class="header-main">
            <h1>Torneo de Tekken 8</h1>
        </div>

        <div class="tournament-container">
            <div class="organizer">
                Organizado por: <strong>MUNDO DE JUEGOS</strong>
                <i class="fas fa-gamepad" style="color: var(--color-primary);"></i>
            </div>

            <div class="prizes-highlight">
                <h2><i class="fas fa-trophy"></i> PREMIOS EN EFECTIVO</h2> 
                <div class="prize-item first-place">
                    <span> PREMIO 1ER LUGAR</span>
                    <strong style="color: var(--color-gold);">200 Bs.</strong>
                </div>
                <div class="prize-item second-place">
                    <span> PREMIO 2DO LUGAR</span>
                    <strong style="color: var(--color-silver);">100 Bs.</strong>
                </div>
            </div>

            <div class="status-box" id="contador">Cargando participantes...</div>
            <div class="status-box completed-box" id="completado">
                <i class="fas fa-check-circle"></i> ¡Cupos Completados (20/20)! El torneo iniciará el 1 de noviembre de 2025 a las 16:00 horas.
            </div>
            
            <div class="status-box" style="border-left: 5px solid #ff0; color: #ff0; font-size: 14px; margin-top: -10px;">
                <i class="fas fa-exclamation-triangle"></i> REQUISITO MÍNIMO: Necesitamos completar 20 participantes para iniciar el torneo. ¡Tu inscripción es vital!
            </div>

            <div class="registration-info">
                <h3><i class=""></i> Detalles de Inscripción y Contacto</h3>
                <div class="registration-details">
                    <div class="prize-item first-place">
                        <p> Costo de Inscripción: <strong style="color: var(--color-primary);">15 Bs.</strong></p>
                        <p><i class="fas fa-money-bill-wave"></i> Métodos de Pago: Efectivo y QR.</p>
                        <p> Lugar del Evento: MUNDO DE JUEGOS</p>
                    </div>
                    <div class="prize-item second-place">
                        <p><i class="fab fa-whatsapp"></i> WhatsApp para consultas: 63243923 </p>
                        <a href="https://wa.me/59163243923?text=Hola!%20Quisiera%20más%20información%20sobre%20el%20Torneo%20de%20Tekken%208." 
                            target="_blank" class="whatsapp-button">
                            <i class="fab fa-whatsapp"></i> Chatear para Inscribirse
                        </a>
                    </div>
                </div>
            </div>

            <div class="content-grid">
                <div class="list-section">
                    <h3><i class="fas fa-users"></i> Lista de Participantes (Cupo Mín. 20)</h3>
                    <div id="participantes"></div>
                </div>

                <div class="media-section">
                    <h3><i class="fas fa-map-marker-alt"></i> Ubicación y Promoción</h3>
                    <div class="tiktok-embed-container">
                        <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@mundo.de.juegos61/video/7555216594033528075" 
                            data-video-id="7555216594033528075"> 
                            <section></section> 
                        </blockquote> 
                        <script async src="https://www.tiktok.com/embed.js"></script>
                    </div>
                    <p style="font-size: 14px; color: var(--color-text-muted);">Encuentra la ubicación exacta del salón:</p>
                    <div class="map-container">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d323.5276238115237!2d-68.20778450395066!3d-16.54440857536686!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTbCsDMyJzM5LjUiUyA2OMKwMTInMjcuNCJX!5e1!3m2!1ses!2sbo!4v1759019597092!5m2!1ses!2sbo" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <div style="margin-top: 20px;" class="image-container">
                        <img src="img/mdj.jpeg" alt="Tekken 8 - PS5">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // *** IMPORTANTE: REEMPLAZA ESTA URL CON LA QUE GENERASTE EN GOOGLE SHEETS ***
        const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRYKgmwR_BSfHZZt2leryfIl95FTIiRaYTJhddBLcmdk_ePIDkk67u5ddBGFxwKq0hvQ11SRfn7-203/pub?gid=1978992208&single=true&output=csv";
        const max_participantes = 20;

        const participantesDiv = document.getElementById("participantes");
        const contadorDiv = document.getElementById("contador");
        const completadoDiv = document.getElementById("completado");

        fetch(CSV_URL)
            .then(res => {
                if (!res.ok) throw new Error('Error al cargar la hoja de cálculo. Verifica el link.');
                return res.text();
            })
            .then(data => {
                const rows = data.trim().split("\n").slice(1);
                const participantes = rows.map(r => r.split(',').length > 1 ? r.split(',') : r.split(';'));

                participantesDiv.innerHTML = "";
                
                participantes.forEach((p, i) => {
                    if (i < max_participantes) {
                        const div = document.createElement("div");
                        div.className = "participant-item";
                        const nombreCompleto = `${p[2] || 'Participante'} ${p[3] || 'Sin Apellido'}`;
                        div.innerHTML = `
                            <div class="participant-details">
                                <strong>${i + 1}. ${nombreCompleto}</strong>
                            </div>
                        `;
                        participantesDiv.appendChild(div);
                    }
                });

                const total = participantes.length;
                if (total < max_participantes) {
                    const faltantes = max_participantes - total;
                    contadorDiv.innerHTML = `<i class="fas fa-exclamation-circle"></i> Inscritos: ${total}/${max_participantes} → Faltan ${faltantes} cupos para el torneo. ¡Inscríbete!`;
                    contadorDiv.style.display = "block";
                    completadoDiv.style.display = "none";
                } else {
                    contadorDiv.style.display = "none";
                    completadoDiv.style.display = "block";
                }
            })
            .catch(error => {
                console.error("Error fetching data:", error);
                contadorDiv.innerHTML = `<i class="fas fa-times-circle"></i> Error al cargar los datos. Revisa la URL del CSV.`;
            });
    </script>
</body>
</html>
